<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Breeds - Soulmate</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-dark': '#304A47',
                        'brand-dark-hover': '#243A37',
                        'brand-light': '#F8F0CE',
                        'brand-accent': '#F4E8B8',
                        'brand-accent-hover': '#F1E2A8',
                        'brand-text': 'rgba(48, 74, 71, 0.8)',
                        'brand-text-light': 'rgba(48, 74, 71, 0.7)',
                    },
                    fontFamily: {
                        poppins: ['Poppins', '-apple-system', 'Roboto', 'Helvetica', 'sans-serif'],
                    },
                    maxWidth: {
                        '8xl': '1280px',
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom Spinner for API Loading States */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #304A47;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 3rem auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Custom styling for checkboxes to match brand */
        input[type="checkbox"], input[type="radio"] {
            accent-color: #304A47;
            width: 1.1rem;
            height: 1.1rem;
        }
    </style>
</head>

<!-- 
  onload="initializeSearchPage()" is CRITICAL here. 
  It triggers the main function in search.js to start fetching data.
-->
<body class="font-poppins leading-relaxed text-brand-dark bg-gray-50" onload="initializeSearchPage()">

    <!-- Header -->
    <header id="page-header" class="bg-white shadow-sm fixed top-0 left-0 right-0 z-50 h-[72px] transition-colors duration-300">
        <div class="max-w-8xl mx-auto px-6">
            <div class="flex items-center justify-between h-[72px]">
                <a href="index.html" class="flex items-center gap-3">
                    <div class="logo-container">
                         <!-- Ensure this path is correct relative to search.html -->
                        <img src="assets/Soulmate_recolor.png" alt="Soulmate Logo" class="h-12 w-auto object-contain"> 
                    </div>
                </a>
                <nav class="hidden lg:flex items-center gap-8">
                    <!-- Added a link to this search page, and linked 'Find Shelters' to its page -->
                    <a href="index.html#how-it-works" class="text-brand-dark no-underline text-base font-normal leading-6 hover:opacity-80">How It Works</a>
                    <a href="search.html" class="text-brand-dark no-underline text-base font-normal leading-6 hover:opacity-80">Search Breeds</a>
                    <a href="findShelter.html" class="text-brand-dark no-underline text-base font-normal leading-6 hover:opacity-80">Find Shelters</a>
                    <a href="index.html#contact" class="text-brand-dark no-underline text-base font-normal leading-6 hover:opacity-80">Contact</a>
                </nav>
                <div class="flex items-center gap-4">
                    <a href="quiz.html" class="hidden sm:inline-block bg-brand-accent hover:bg-brand-accent-hover rounded-full py-2 px-6 text-brand-dark font-medium no-underline transition-transform hover:-translate-y-0.5">Find My Pet</a>
                    <button id="mobile-menu-btn" class="lg:hidden text-brand-dark text-3xl z-20 focus:outline-none">
                        ☰
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden lg:hidden absolute top-0 left-0 right-0 bg-white shadow-lg pt-[72px]">
            <nav class="flex flex-col p-4 gap-4">
                <a href="index.html#how-it-works" class="text-brand-dark no-underline p-2 rounded hover:bg-gray-100">How It Works</a>
                <a href="search.html" class="text-brand-dark no-underline p-2 rounded hover:bg-gray-100">Search Breeds</a>
                <a href="findShelter.html" class="text-brand-dark no-underline p-2 rounded hover:bg-gray-100">Find Shelters</a>
                <a href="index.html#contact" class="text-brand-dark no-underline p-2 rounded hover:bg-gray-100">Contact</a>
                <a href="quiz.html" class="mt-2 sm:hidden bg-brand-accent hover:bg-brand-accent-hover rounded-full py-2 px-6 text-brand-dark font-medium no-underline text-center">Find My Pet</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="pt-[72px] min-h-screen">
        <div class="max-w-8xl mx-auto px-6 py-12 lg:py-16">
            
            <!-- Page Title Area -->
            <div class="text-center mb-12">
                <h1 class="text-4xl md:text-5xl font-bold text-brand-dark leading-tight mb-4">
                    Find Your Companion
                </h1>
                <p class="text-lg text-brand-text-light max-w-2xl mx-auto">
                    Browse our extensive database of dog and cat breeds to discover the perfect match for your home and lifestyle.
                </p>
            </div>

            <!-- Layout Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 items-start">

                <!-- Sidebar: Filters -->
                <aside class="lg:col-span-1 w-full">
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 space-y-8 lg:sticky lg:top-28">
                        
                        <!-- Search Input -->
                        <div>
                            <label for="breed-search" class="block text-sm font-bold text-brand-dark uppercase tracking-wider mb-3">Search by Breed</label>
                            <div class="relative">
                                <input type="text" id="breed-search" placeholder="e.g., Golden Retriever" 
                                    class="w-full py-3 pl-10 pr-4 bg-gray-50 border border-gray-200 rounded-full focus:outline-none focus:ring-2 focus:ring-brand-dark focus:bg-white transition-all placeholder:text-gray-400">
                                <!-- Search Icon SVG -->
                                <svg class="absolute left-3.5 top-3.5 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                            </div>
                        </div>
                        
                        <!-- Filter: Pet Type -->
                        <div>
                            <h3 class="text-sm font-bold text-brand-dark uppercase tracking-wider border-b border-gray-100 pb-3 mb-3">
                                Pet Type
                            </h3>
                            <div id="filter-pet-type" class="space-y-3">
                                <label class="flex items-center group cursor-pointer">
                                    <input type="radio" name="pet-type" value="all" checked>
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">All Pets</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="radio" name="pet-type" value="dog">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Dogs</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="radio" name="pet-type" value="cat">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Cats</span>
                                </label>
                            </div>
                        </div>

                        <!-- Filter: Size -->
                        <div>
                            <h3 class="text-sm font-bold text-brand-dark uppercase tracking-wider border-b border-gray-100 pb-3 mb-3">
                                Size
                            </h3>
                            <div id="filter-size" class="space-y-3">
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="small">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Small (< 20lbs)</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="medium">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Medium (20-60lbs)</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="large">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Large (> 60lbs)</span>
                                </label>
                            </div>
                        </div>

                        <!-- Filter: Characteristics -->
                        <div>
                            <h3 class="text-sm font-bold text-brand-dark uppercase tracking-wider border-b border-gray-100 pb-3 mb-3">
                                Characteristics
                            </h3>
                            <div id="filter-characteristics" class="space-y-3">
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="hypoallergenic">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Hypoallergenic</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="good-with-kids">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Good with Kids</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="good-with-pets">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Good with Pets</span>
                                </label>
                                <label class="flex items-center group cursor-pointer">
                                    <input type="checkbox" value="low-shedding">
                                    <span class="ml-3 text-brand-text group-hover:text-brand-dark transition-colors">Low Shedding</span>
                                </label>
                            </div>
                        </div>

                        <!-- Apply Button -->
                        <button id="apply-filters-btn" type="button" class="w-full bg-brand-dark hover:bg-brand-dark-hover text-white rounded-full py-3 px-6 text-base font-semibold shadow-md transition-transform active:scale-95 hover:-translate-y-0.5">
                            Apply Filters
                        </button>
                    </div>
                </aside>

                <!-- Results Area -->
                <div class="lg:col-span-3 flex flex-col h-full">
                    
                    <!-- Controls: Count & Sort -->
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                        <span id="results-count" class="text-brand-dark font-medium">Initializing...</span>
                        
                        <div class="flex items-center gap-3 w-full sm:w-auto">
                            <label for="sort-by" class="text-sm text-brand-text-light whitespace-nowrap">Sort by:</label>
                            <div class="relative w-full sm:w-auto">
                                <select id="sort-by" class="appearance-none w-full sm:w-48 bg-gray-50 border border-gray-200 text-brand-dark py-2 pl-4 pr-8 rounded-full focus:outline-none focus:ring-2 focus:ring-brand-dark cursor-pointer text-sm font-medium">
                                    <option value="default">Relevance</option>
                                    <option value="name-asc">Name (A-Z)</option>
                                    <option value="name-desc">Name (Z-A)</option>
                                    <option value="size-asc">Size (Smallest)</option>
                                    <option value="size-desc">Size (Largest)</option>
                                </select>
                                <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-brand-dark">
                                    <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Grid for JS Results -->
                    <div id="results-grid" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6 min-h-[400px]">
                        <!-- 
                          The JS will inject content here.
                          Initial state is empty, or you could put a static loader here.
                          The JS fetchAllBreedsAndRender function handles the loader.
                        -->
                    </div>

                    <!-- Pagination Container -->
                    <nav id="pagination-container" class="flex justify-center mt-12 pb-8" aria-label="Pagination">
                        <!-- JS will inject pagination buttons here -->
                    </nav>

                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="contact" class="bg-white pt-16 pb-8 border-t border-gray-200">
        <div class="max-w-8xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <!-- Brand Info -->
                <div class="lg:col-span-1 flex flex-col gap-6">
                    <a href="index.html" class="flex items-center gap-3">
                        <div class="w-10 h-10 rounded-full bg-brand-dark flex items-center justify-center p-2">
                            <svg width="18" height="18" viewBox="0 0 18 19" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M1.67344 10.8105L8.02617 16.7414C8.28984 16.9875 8.63789 17.1246 9 17.1246C9.36211 17.1246 9.71016 16.9875 9.97383 16.7414L16.3266 10.8105C17.3953 9.81559 18 8.41989 18 6.96091V6.757C18 4.29958 16.2246 2.20427 13.8023 1.79997C12.1992 1.53278 10.568 2.05661 9.42188 3.2027L9 3.62458L8.57812 3.2027C7.43203 2.05661 5.80078 1.53278 4.19766 1.79997C1.77539 2.20427 0 4.29958 0 6.757V6.96091C0 8.41989 0.604687 9.81559 1.67344 10.8105Z"/></svg>
                        </div>
                        <span class="text-2xl font-bold text-brand-dark leading-8">Soulmate</span>
                    </a>
                    <p class="text-sm text-brand-text-light leading-6">Connecting hearts with paws through intelligent pet matching and local shelter partnerships.</p>
                </div>
                
                <!-- Quick Links -->
                <div>
                    <h3 class="text-lg font-bold text-brand-dark mb-4">Quick Links</h3>
                    <ul class="flex flex-col gap-2">
                        <li><a href="quiz.html" class="text-brand-text-light hover:text-brand-dark no-underline">Take Quiz</a></li>
                        <li><a href="index.html#how-it-works" class="text-brand-text-light hover:text-brand-dark no-underline">How It Works</a></li>
                        <li><a href="index.html#success-stories" class="text-brand-text-light hover:text-brand-dark no-underline">Success Stories</a></li>
                        <li><a href="findShelter.html" class="text-brand-text-light hover:text-brand-dark no-underline">Partner Shelters</a></li>
                    </ul>
                </div>

                <!-- Support Links -->
                <div>
                    <h3 class="text-lg font-bold text-brand-dark mb-4">Support</h3>
                    <ul class="flex flex-col gap-3">
                        <li><a href="#" class="text-brand-text-light hover:text-brand-dark no-underline transition-colors">Help Center</a></li>
                        <li><a href="#" class="text-brand-text-light hover:text-brand-dark no-underline transition-colors">Contact Us</a></li>
                        <li><a href="#" class="text-brand-text-light hover:text-brand-dark no-underline transition-colors">Pet Care Tips</a></li>
                        <li><a href="#" class="text-brand-text-light hover:text-brand-dark no-underline transition-colors">Adoption Guide</a></li>
                    </ul>
                </div>

                <!-- Newsletter -->
                <div>
                    <h3 class="text-lg font-bold text-brand-dark mb-4">Stay Updated</h3>
                    <p class="text-sm text-brand-text-light mb-4">Get pet care tips and adoption success stories.</p>
                    <form class="flex mt-4">
                        <input type="email" class="flex-1 py-2 px-4 border border-gray-300 rounded-l-full focus:outline-none focus:ring-2 focus:ring-brand-dark placeholder-gray-400 text-sm" placeholder="Enter email">
                        <button type="submit" class="bg-brand-dark hover:bg-brand-dark-hover rounded-r-full px-5 flex items-center justify-center transition-colors">
                            <svg width="14" height="16" viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M15.5656 0.175119C15.8812 0.393869 16.0468 0.771994 15.9875 1.15012L13.9875 14.1501C13.9406 14.4532 13.7562 14.7189 13.4875 14.8689C13.2187 15.0189 12.8968 15.0376 12.6125 14.9189L8.87496 13.3657L6.73433 15.6814C6.45621 15.9845 6.01871 16.0845 5.63433 15.9345C5.24996 15.7845 4.99996 15.4126 4.99996 15.0001V12.3876C4.99996 12.2626 5.04683 12.1439 5.13121 12.0532L10.3687 6.33762C10.55 6.14074 10.5437 5.83762 10.3562 5.65012C10.1687 5.46262 9.86558 5.45012 9.66871 5.62824L3.31246 11.2751L0.553084 9.89387C0.221834 9.72824 0.00933428 9.39699 -4.07251e-05 9.02824C-0.00941573 8.65949 0.184334 8.31574 0.503084 8.13137L14.5031 0.131369C14.8375 -0.0592555 15.25 -0.0405055 15.5656 0.175119Z"/></svg>
                        </button>
                    </form>
                </div>
            </div>
            
            <div class="border-t border-gray-200 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-center md:text-left">
                <p class="text-sm text-brand-text-light">© 2024 Soulmate. All rights reserved.</p>
                <div class="flex gap-6">
                    <a href="#" class="text-sm text-brand-text-light hover:text-brand-dark no-underline transition-colors">Privacy Policy</a>
                    <a href="#" class="text-sm text-brand-text-light hover:text-brand-dark no-underline transition-colors">Terms of Service</a>
                    <a href="#" class="text-sm text-brand-text-light hover:text-brand-dark no-underline transition-colors">Cookie Policy</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Mobile Menu Logic -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');

            if (menuBtn && mobileMenu) {
                menuBtn.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                    menuBtn.innerHTML = mobileMenu.classList.contains('hidden') ? '☰' : '✕';
                });

                const mobileLinks = mobileMenu.querySelectorAll('a');
                mobileLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        mobileMenu.classList.add('hidden');
                        menuBtn.innerHTML = '☰';
                    });
                });
            }
        });
    </script>
    
    <!-- Link to your search.js file -->
    <script src="search.js" defer></script>
</body>
</html>